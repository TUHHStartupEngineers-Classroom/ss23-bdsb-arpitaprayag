{
  "hash": "0364c398d8d85206f229181f4631878d",
  "result": {
    "markdown": "---\ntitle: \"Acquisition\"\nauthor: \"Arpita Anand Prayag\"\nformat: html\neditor: visual\n---\n\n\n# Acquisition Challenges\n\n## Get some data via an API. There are millions of providers, that offer API access for free and have good documentation about how to query their service.\n\n## Running Code\n\n### Load libraries\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-1_63fd3e7de1e515d919833e8f52b3f50b'}\n\n```{.r .cell-code}\nlibrary(RSQLite)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:stats':\n#> \n#>     filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following objects are masked from 'package:base':\n#> \n#>     intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(httr)\nlibrary(glue)\nlibrary(jsonlite)\nlibrary(keyring)\nlibrary(rstudioapi)\nlibrary(rvest)\n```\n:::\n\n\n### Send the GET request to the API\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-2_f81dd32897064097f11c987ed6f7dbbc'}\n\n```{.r .cell-code}\nresponse <- GET(\"https://www.themealdb.com/api/json/v1/1/filter.php?c=Seafood\")\n```\n:::\n\n\n### Check the status code\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-3_cd014ec64dbb74e94556e532f1feb95b'}\n\n```{.r .cell-code}\nif (response$status_code == 200) {\n  # The request was successful\n  # Get the response data\n\n  meals_db <- response %>%\n    .$content %>%\n    rawToChar() %>%\n    fromJSON()\n  \n  as.data.frame(meals_db)\n} else {\n  # The request failed\n  print(response$status_code)\n}\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"meals.strMeal\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"meals.strMealThumb\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"meals.idMeal\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Baked salmon with fennel & tomatoes\",\"2\":\"https://www.themealdb.com/images/media/meals/1548772327.jpg\",\"3\":\"52959\",\"_rn_\":\"1\"},{\"1\":\"Cajun spiced fish tacos\",\"2\":\"https://www.themealdb.com/images/media/meals/uvuyxu1503067369.jpg\",\"3\":\"52819\",\"_rn_\":\"2\"},{\"1\":\"Escovitch Fish\",\"2\":\"https://www.themealdb.com/images/media/meals/1520084413.jpg\",\"3\":\"52944\",\"_rn_\":\"3\"},{\"1\":\"Fish fofos\",\"2\":\"https://www.themealdb.com/images/media/meals/a15wsa1614349126.jpg\",\"3\":\"53043\",\"_rn_\":\"4\"},{\"1\":\"Fish pie\",\"2\":\"https://www.themealdb.com/images/media/meals/ysxwuq1487323065.jpg\",\"3\":\"52802\",\"_rn_\":\"5\"},{\"1\":\"Fish Stew with Rouille\",\"2\":\"https://www.themealdb.com/images/media/meals/vptqpw1511798500.jpg\",\"3\":\"52918\",\"_rn_\":\"6\"},{\"1\":\"Garides Saganaki\",\"2\":\"https://www.themealdb.com/images/media/meals/wuvryu1468232995.jpg\",\"3\":\"52764\",\"_rn_\":\"7\"},{\"1\":\"Grilled Portuguese sardines\",\"2\":\"https://www.themealdb.com/images/media/meals/lpd4wy1614347943.jpg\",\"3\":\"53041\",\"_rn_\":\"8\"},{\"1\":\"Honey Teriyaki Salmon\",\"2\":\"https://www.themealdb.com/images/media/meals/xxyupu1468262513.jpg\",\"3\":\"52773\",\"_rn_\":\"9\"},{\"1\":\"Kedgeree\",\"2\":\"https://www.themealdb.com/images/media/meals/utxqpt1511639216.jpg\",\"3\":\"52887\",\"_rn_\":\"10\"},{\"1\":\"Kung Po Prawns\",\"2\":\"https://www.themealdb.com/images/media/meals/1525873040.jpg\",\"3\":\"52946\",\"_rn_\":\"11\"},{\"1\":\"Laksa King Prawn Noodles\",\"2\":\"https://www.themealdb.com/images/media/meals/rvypwy1503069308.jpg\",\"3\":\"52821\",\"_rn_\":\"12\"},{\"1\":\"Mediterranean Pasta Salad\",\"2\":\"https://www.themealdb.com/images/media/meals/wvqpwt1468339226.jpg\",\"3\":\"52777\",\"_rn_\":\"13\"},{\"1\":\"Mee goreng mamak\",\"2\":\"https://www.themealdb.com/images/media/meals/xquakq1619787532.jpg\",\"3\":\"53048\",\"_rn_\":\"14\"},{\"1\":\"Nasi lemak\",\"2\":\"https://www.themealdb.com/images/media/meals/wai9bw1619788844.jpg\",\"3\":\"53051\",\"_rn_\":\"15\"},{\"1\":\"Portuguese fish stew (Caldeirada de peixe)\",\"2\":\"https://www.themealdb.com/images/media/meals/do7zps1614349775.jpg\",\"3\":\"53045\",\"_rn_\":\"16\"},{\"1\":\"Recheado Masala Fish\",\"2\":\"https://www.themealdb.com/images/media/meals/uwxusv1487344500.jpg\",\"3\":\"52809\",\"_rn_\":\"17\"},{\"1\":\"Salmon Avocado Salad\",\"2\":\"https://www.themealdb.com/images/media/meals/1549542994.jpg\",\"3\":\"52960\",\"_rn_\":\"18\"},{\"1\":\"Salmon Prawn Risotto\",\"2\":\"https://www.themealdb.com/images/media/meals/xxrxux1503070723.jpg\",\"3\":\"52823\",\"_rn_\":\"19\"},{\"1\":\"Saltfish and Ackee\",\"2\":\"https://www.themealdb.com/images/media/meals/vytypy1511883765.jpg\",\"3\":\"52936\",\"_rn_\":\"20\"},{\"1\":\"Seafood fideuà\",\"2\":\"https://www.themealdb.com/images/media/meals/wqqvyq1511179730.jpg\",\"3\":\"52836\",\"_rn_\":\"21\"},{\"1\":\"Shrimp Chow Fun\",\"2\":\"https://www.themealdb.com/images/media/meals/1529445434.jpg\",\"3\":\"52953\",\"_rn_\":\"22\"},{\"1\":\"Sledz w Oleju (Polish Herrings)\",\"2\":\"https://www.themealdb.com/images/media/meals/7ttta31593350374.jpg\",\"3\":\"53023\",\"_rn_\":\"23\"},{\"1\":\"Spring onion and prawn empanadas\",\"2\":\"https://www.themealdb.com/images/media/meals/1c5oso1614347493.jpg\",\"3\":\"53040\",\"_rn_\":\"24\"},{\"1\":\"Sushi\",\"2\":\"https://www.themealdb.com/images/media/meals/g046bb1663960946.jpg\",\"3\":\"53065\",\"_rn_\":\"25\"},{\"1\":\"Three Fish Pie\",\"2\":\"https://www.themealdb.com/images/media/meals/spswqs1511558697.jpg\",\"3\":\"52882\",\"_rn_\":\"26\"},{\"1\":\"Tuna and Egg Briks\",\"2\":\"https://www.themealdb.com/images/media/meals/2dsltq1560461468.jpg\",\"3\":\"52975\",\"_rn_\":\"27\"},{\"1\":\"Tuna Nicoise\",\"2\":\"https://www.themealdb.com/images/media/meals/yypwwq1511304979.jpg\",\"3\":\"52852\",\"_rn_\":\"28\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n## Scrape one of the competitor websites of canyon\n\n### Set the URL of the website to scrape\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-4_895795d2cd1208db5709387077b57581'}\n\n```{.r .cell-code}\nurl <- \"https://www.rosebikes.de/\"\n```\n:::\n\n\n### Scrape the website\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-5_7fc226ed885c24565cda2f551ad8a2ee'}\n\n```{.r .cell-code}\nhtml <- read_html(url)\n\n# Find the elements that contain the model names\nmodel_names <- html %>%\n  html_nodes(\".products-slider-tile__product-name\") %>%\n  html_text()\n\n# Find the elements that contain the prices\nprices <- html %>%\n  html_nodes(\".product-tile-price__current-value\") %>%\n  html_text()\n\n# Extract the number using regular expressions\nprice <- gsub(\"[^0-9.,]\", \"\", prices)  # Remove all non-digit, non-decimal, and non-comma characters\n```\n:::\n\n\n### Create a data frame of the model names and prices\n\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-6_d8fe42f516e1feaff7d7a000a1383b86'}\n\n```{.r .cell-code}\ndatabase <- data.frame(\n  Model = model_names,\n  Price = price\n)\n\ndatabase\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Model\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Price\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"XLITE 04 Ultegra\",\"2\":\"3.299,00\"},{\"1\":\"XLITE 06 Ultegra\",\"2\":\"3.999,00\"},{\"1\":\"BACKROAD GRX RX810 1x11\",\"2\":\"2.999,00\"},{\"1\":\"COUNT SOLO 2\",\"2\":\"849,00\"},{\"1\":\"THE BRUCE 2\",\"2\":\"1.199,00\"},{\"1\":\"BACKROAD AL GRX RX400\",\"2\":\"1.999,00\"},{\"1\":\"SNEAK PLUS\",\"2\":\"2.399,00\"},{\"1\":\"ROOT MILLER 1\",\"2\":\"2.299,00\"},{\"1\":\"PRO SL DISC 105\",\"2\":\"1.699,00\"},{\"1\":\"BACKROAD Force eTap AXS XPLR 1x12 Limited\",\"2\":\"4.899,00\"},{\"1\":\"THRILL HILL 3\",\"2\":\"3.999,00\"},{\"1\":\"BACKROAD AL GRX RX600 1X11\",\"2\":\"2.349,00\"},{\"1\":\"MAYOR PLUS 3 Unisex\",\"2\":\"4.999,00\"},{\"1\":\"BACKROAD AXS MULLET BUILD\",\"2\":\"3.999,00\"},{\"1\":\"Kettenverschleißlehre mit Kettenhalter\",\"2\":\"5,45\"},{\"1\":\"P-BOUNCE Bikeshorts\",\"2\":\"79,95\"},{\"1\":\"Industrielager 61902-2RS\",\"2\":\"14,95\"},{\"1\":\"ITAMOS 2 Fahrradhandschuhe\",\"2\":\"20,95\"},{\"1\":\"SV 42 & 60 28\\\" Wide Rennrad Schlauch\",\"2\":\"2,95\"},{\"1\":\"FH-S Halter für Apple AirTag\",\"2\":\"5,95\"},{\"1\":\"SCORPIONE 3 JERSEY Radtrikot\",\"2\":\"69,95\"},{\"1\":\"Strada E-Bike XL Fahrradträger\",\"2\":\"439,95\"},{\"1\":\"VALDES MTB Bikeshorts\",\"2\":\"84,95\"},{\"1\":\"Multi Cage CF-1 Flaschenhalter Carbon\",\"2\":\"11,95\"},{\"1\":\"NECK BRACE DBX 3.5 Nackenprotektor\",\"2\":\"221,95\"},{\"1\":\"Fly Tex Trinkflasche\",\"2\":\"5,95\"},{\"1\":\"AIRFLEX CHEST PROTECTOR Protektorenweste\",\"2\":\"145,95\"},{\"1\":\"Grand Prix 5000 Rennradreifen, Faltreifen (Tube-Type)\",\"2\":\"34,95\"},{\"1\":\"Shock Blow - Dämpferpumpe und Federgabelpumpe -\",\"2\":\"19,95\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}